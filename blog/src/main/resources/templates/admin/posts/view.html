<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <title>게시글 상세 - 관리자</title>
</head>
<body>
    <div layout:fragment="content" class="container mt-4">
        <div class="row">
            <div class="col-md-3">
                <div th:replace="~{admin/common/adminNav :: adminNav}"></div>
            </div>
            <div class="col-md-9">
                <h2 class="mb-4">게시글 상세 (관리자)</h2>
                <div class="card shadow-sm mb-4">
                    <div class="card-body p-4">
                        <h3 class="fw-bold mb-3" th:text="${board.title}">제목</h3>
                        <div class="text-muted small mb-4">
                            작성자: <span th:text="${board.writer}">admin</span> | 
                            작성일: <span th:text="${#dates.format(board.createdAt, 'yyyy-MM-dd HH:mm')}">2026-01-01</span> | 
                            카테고리: <span th:text="${board.categoryName}">Category</span>
                        </div>
                        <hr>
                        <div class="content-area mb-4" th:utext="${board.content}">
                            내용
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <a th:href="@{/admin/posts}" class="btn btn-secondary">목록으로</a>
                            <div class="gap-2 d-flex">
                                <a th:href="@{/admin/posts/edit/{id}(id=${board.id})}" class="btn btn-primary">수정</a>
                                <a th:href="@{/admin/posts/delete/{id}(id=${board.id})}" 
                                   class="btn btn-danger"
                                   onclick="return confirm('정말 삭제하시겠습니까?')">삭제</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 댓글 목록 (보기 전용) -->
                <div class="card shadow-sm">
                    <div class="card-header bg-light">
                        댓글 목록 (<span th:text="${comments.size()}">0</span>)
                    </div>
                    <ul class="list-group list-group-flush">
                        <li th:each="comment : ${comments}" class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center mb-1">
                                <span class="fw-bold" th:text="${comment.writer}">작성자</span>
                                <small class="text-muted" th:text="${#dates.format(comment.createdAt, 'yyyy-MM-dd HH:mm')}">시간</small>
                            </div>
                            <div th:text="${comment.content}">댓글 내용</div>
                        </li>
                        <li th:if="${comments.isEmpty()}" class="list-group-item text-center text-muted">
                            댓글이 없습니다.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
